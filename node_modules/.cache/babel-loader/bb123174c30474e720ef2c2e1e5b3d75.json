{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohit\\\\OneDrive\\\\Desktop\\\\Booking.com\\\\scared-shade-6052\\\\src\\\\Components\\\\SearchDeals\\\\Suggestion\\\\Searchbar.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { useThrottle } from \"use-throttle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchBarWrapper = styled.div`\n  position: relative;\n    padding: 0px;\n    margin: 0px;\n    box-sizing: border-box;\n    font-family: \"BlinkMacSystemFont\",\"-apple-system\",\"Segoe UI\",'Roboto','Helvetica','Arial','sans-serif';\n\n    display: flex;\n    align-items: center;\n    position: relative;\n    width: 280px;\n    font-weight: 100;\n    color: gray;\n`;\n// const IconImage = styled.img`\n/* height:20px;\npadding-right: 20px; */\n// `\n_c = SearchBarWrapper;\nconst Input = styled.input`\nborder:none;\noutline: none;\nflex:1;\nfont-weight: 500;\nbackground-color: inherit;\nfont-family: \"BlinkMacSystemFont\",\"-apple-system\",\"Segoe UI\",'Roboto','Helvetica','Arial','sans-serif';\nfont-size: 15px;\npadding: 0.5%;\ncolor:rgb(85, 84, 84) ;\n`;\n_c2 = Input;\nconst RightSide = styled.div`\n\n& div > p{\nfont-size: 24px;\nmargin-top:-7px;\ncursor: pointer;\nfont-weight: 400;\n}\n`;\n_c3 = RightSide;\nconst Spinner = styled.div`\n  border: 4px solid #f3f3f3; /* Light grey */\n  border-top: 4px solid #3498db; /* Blue */\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  margin-left: 10px;\n  animation: spin 2s linear infinite;\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n`;\n_c4 = Spinner;\nconst SuggestionBox = styled.div`\ndisplay: ${_ref => {\n  let {\n    len\n  } = _ref;\n  return len === 0 ? \"none\" : \"flex\";\n}};\nposition: absolute;\nflex-direction: column;\nflex:0 0 auto;\nmax-height: 300px;\noverflow: auto;\noverflow-y: hidden;\ntop: 52%;\nleft: 12%;\nborder-radius: 10px;\nwidth: 359px;\nz-index: 4;\nbackground-color: white;\nbox-shadow: 2px 2px 2px 2px #7c787849;\n\n& *{\n    flex: 1;\n    text-align: left;\n    /* padding: 10px;  */\n    padding-left: 20px;\n    padding-top:10px;\n    padding-bottom:10px;\n}\n\n&>div:nth-child(${_ref2 => {\n  let {\n    active\n  } = _ref2;\n  return active;\n}}){\n    background: #eeeaea88;\n    color:#1f1e1e85;\n    font-weight: 500;\n}\n&>div{\n       height: 30px;\n}\n/* &>div:nth-child(n+${_ref3 => {\n  let {\n    limit\n  } = _ref3;\n  return limit + 1;\n}}){\n    display: none;\n} */\n`;\n_c5 = SuggestionBox;\nexport function Searchbar(_ref4) {\n  _s();\n  let {\n    setLoading,\n    loading,\n    suggestions,\n    onChange\n  } = _ref4;\n  const [q, setQ] = React.useState(\"\");\n  const [active, setActive] = React.useState(0);\n  const scrollRef = React.useRef();\n  const throttleText = useThrottle(q, 1000);\n  React.useEffect(() => {\n    onChange(throttleText);\n  }, [throttleText, onChange]);\n  const handleInputChange = e => {\n    setQ(e.target.value);\n    onChange(e.target.value);\n\n    // setTimeout(() => {\n    //     setLoading(false);\n    // }, 5000)\n  };\n\n  const handleClear = () => {\n    setQ(\"\");\n    onChange(\"\");\n    //setLoading(false);\n  };\n\n  const handleChangeActiveSuggestions = e => {\n    switch (e.keyCode) {\n      case 38:\n        {\n          if (active > 4) {\n            scrollRef.current.scrollTop -= 30;\n          }\n          if (active === 1) {\n            setActive(0);\n          } else if (active <= 0) {\n            setActive(suggestions.length);\n          } else {\n            setActive(prev => prev - 1);\n          }\n          break;\n        }\n      case 40:\n        {\n          if (active >= suggestions.length) {\n            setActive(0);\n          } else {\n            setActive(prev => prev + 1);\n          }\n          if (active > 4) {\n            scrollRef.current.scrollTop += 30;\n          }\n          break;\n        }\n      case 13:\n        {\n          // alert(suggestions[active - 1])\n          setQ(suggestions[active - 1]);\n          break;\n        }\n      default:\n        {\n          return;\n        }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchBarWrapper, {\n      onKeyUp: handleChangeActiveSuggestions,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        onChange: handleInputChange,\n        value: q,\n        placeholder: \"Where are you going?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(RightSide, {\n        children: [q && /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: handleClear,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 23\n        }, this), loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this), !loading && /*#__PURE__*/_jsxDEV(SuggestionBox, {\n      ref: scrollRef,\n      active: active,\n      limit: 5,\n      len: suggestions.length,\n      children: suggestions.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        onMouseOver: () => setActive(index + 1),\n        children: item\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true);\n}\n_s(Searchbar, \"HIxVABIURe6RAT5e3YbLyab6Px8=\", false, function () {\n  return [useThrottle];\n});\n_c6 = Searchbar;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"SearchBarWrapper\");\n$RefreshReg$(_c2, \"Input\");\n$RefreshReg$(_c3, \"RightSide\");\n$RefreshReg$(_c4, \"Spinner\");\n$RefreshReg$(_c5, \"SuggestionBox\");\n$RefreshReg$(_c6, \"Searchbar\");","map":{"version":3,"names":["React","styled","useThrottle","SearchBarWrapper","div","Input","input","RightSide","Spinner","SuggestionBox","len","active","limit","Searchbar","setLoading","loading","suggestions","onChange","q","setQ","useState","setActive","scrollRef","useRef","throttleText","useEffect","handleInputChange","e","target","value","handleClear","handleChangeActiveSuggestions","keyCode","current","scrollTop","length","prev","map","item","index"],"sources":["C:/Users/mohit/OneDrive/Desktop/Booking.com/scared-shade-6052/src/Components/SearchDeals/Suggestion/Searchbar.jsx"],"sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport { useThrottle } from \"use-throttle\"\n\nconst SearchBarWrapper = styled.div`\n  position: relative;\n    padding: 0px;\n    margin: 0px;\n    box-sizing: border-box;\n    font-family: \"BlinkMacSystemFont\",\"-apple-system\",\"Segoe UI\",'Roboto','Helvetica','Arial','sans-serif';\n\n    display: flex;\n    align-items: center;\n    position: relative;\n    width: 280px;\n    font-weight: 100;\n    color: gray;\n`\n// const IconImage = styled.img`\n/* height:20px;\npadding-right: 20px; */\n// `\nconst Input = styled.input`\nborder:none;\noutline: none;\nflex:1;\nfont-weight: 500;\nbackground-color: inherit;\nfont-family: \"BlinkMacSystemFont\",\"-apple-system\",\"Segoe UI\",'Roboto','Helvetica','Arial','sans-serif';\nfont-size: 15px;\npadding: 0.5%;\ncolor:rgb(85, 84, 84) ;\n`\nconst RightSide = styled.div`\n\n& div > p{\nfont-size: 24px;\nmargin-top:-7px;\ncursor: pointer;\nfont-weight: 400;\n}\n`\nconst Spinner = styled.div`\n  border: 4px solid #f3f3f3; /* Light grey */\n  border-top: 4px solid #3498db; /* Blue */\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  margin-left: 10px;\n  animation: spin 2s linear infinite;\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n`\nconst SuggestionBox = styled.div`\ndisplay: ${({ len }) => (len === 0 ? \"none\" : \"flex\")};\nposition: absolute;\nflex-direction: column;\nflex:0 0 auto;\nmax-height: 300px;\noverflow: auto;\noverflow-y: hidden;\ntop: 52%;\nleft: 12%;\nborder-radius: 10px;\nwidth: 359px;\nz-index: 4;\nbackground-color: white;\nbox-shadow: 2px 2px 2px 2px #7c787849;\n\n& *{\n    flex: 1;\n    text-align: left;\n    /* padding: 10px;  */\n    padding-left: 20px;\n    padding-top:10px;\n    padding-bottom:10px;\n}\n\n&>div:nth-child(${({ active }) => active}){\n    background: #eeeaea88;\n    color:#1f1e1e85;\n    font-weight: 500;\n}\n&>div{\n       height: 30px;\n}\n/* &>div:nth-child(n+${({ limit }) => limit + 1}){\n    display: none;\n} */\n`\n\nexport function Searchbar({ setLoading, loading, suggestions, onChange }) {\n    const [q, setQ] = React.useState(\"\");\n    const [active, setActive] = React.useState(0);\n    const scrollRef = React.useRef();\n    const throttleText = useThrottle(q, 1000);\n    React.useEffect(() => {\n        onChange(throttleText);\n    }, [throttleText, onChange])\n    const handleInputChange = (e) => {\n        setQ(e.target.value);\n        onChange(e.target.value);\n\n        // setTimeout(() => {\n        //     setLoading(false);\n        // }, 5000)\n    }\n    const handleClear = () => {\n        setQ(\"\");\n        onChange(\"\")\n        //setLoading(false);\n    }\n    const handleChangeActiveSuggestions = (e) => {\n\n        switch (e.keyCode) {\n            case 38: {\n                if (active > 4) {\n                    scrollRef.current.scrollTop -= 30;\n                }\n                if (active === 1) {\n                    setActive(0);\n                } else if (active <= 0) {\n                    setActive(suggestions.length);\n\n                } else {\n                    setActive((prev) => prev - 1);\n                }\n\n                break;\n            }\n            case 40: {\n                if (active >= suggestions.length) {\n                    setActive(0);\n                }\n                else {\n                    setActive((prev) => prev + 1);\n                }\n                if (active > 4) {\n                    scrollRef.current.scrollTop += 30;\n\n                }\n                break;\n            }\n            case 13: {\n                // alert(suggestions[active - 1])\n                setQ(suggestions[active - 1])\n                break;\n            }\n\n            default: {\n                return;\n            }\n\n        }\n    }\n    return <>\n        <SearchBarWrapper onKeyUp={handleChangeActiveSuggestions}>\n            {/* <IconImage src=\"https://image.flaticon.com/icons/png/512/49/49116.png\" alt=\"icon\" /> */}\n            <Input onChange={handleInputChange} value={q} placeholder=\"Where are you going?\" />\n            <RightSide>\n                {q && <div onClick={handleClear}>\n                    <p>\n                        x\n                    </p>\n                </div>}\n                {loading && <Spinner />}\n            </RightSide>\n\n        </SearchBarWrapper>\n        {!loading && (<SuggestionBox ref={scrollRef} active={active} limit={5} len={suggestions.length}>\n            {suggestions.map((item, index) => (\n\n                <div key={index} onMouseOver={() => setActive(index + 1)}>\n\n                    {item}\n\n\n                </div>\n            ))}\n        </SuggestionBox>\n        )}\n    </>\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}