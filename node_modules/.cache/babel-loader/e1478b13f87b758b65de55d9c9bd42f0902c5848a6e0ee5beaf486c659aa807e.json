{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohit\\\\OneDrive\\\\Desktop\\\\Booking.com\\\\scared-shade-6052\\\\src\\\\components\\\\Stays\\\\SearchPage\\\\SearchPage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { HotelDataComponent } from \"./HotelDataComponent\";\nimport { FilteringBox } from \"./FilteringBox\";\nimport { SearchBox } from \"./SearchBox\";\nimport styles from \"./SearchBox.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getHotels } from \"../../../actions/hotelAction\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const SearchPage = () => {\n  _s();\n  const dispatch = useDispatch();\n  const hotelData = useSelector(state => state.hotelsData.hotels);\n  const [showData, setShowData] = useState(hotelData);\n  const [price, setPrice] = useState(false);\n  const [star, setStar] = useState(false);\n  const prefilledData = useLocation().state;\n  const filterPrice = e => {\n    if (e.target.name === \"price\" && e.target.checked) {\n      if (Number(e.target.value) === 1500) {\n        const filteredAbove1500 = hotelData.filter(el => {\n          return Number(el.discountedPrice) > 1500;\n        });\n        setShowData([...filteredAbove1500]);\n      } else if (Number(e.target.value) === 1000) {\n        const filteredAbove1500 = hotelData.filter(el => {\n          return Number(el.discountedPrice) >= 1000 && Number(el.discountedPrice) < 1500;\n        });\n        setShowData([...filteredAbove1500]);\n      } else if (Number(e.target.value) === 0) {\n        const filteredAbove1500 = hotelData.filter(el => {\n          return Number(el.discountedPrice) <= 1000;\n        });\n        setShowData([...filteredAbove1500]);\n      }\n      setPrice(!price);\n    } else {\n      setShowData(hotelData);\n    }\n  };\n  const filterStar = e => {\n    if (e.target.checked) {\n      const filteredData = showData.filter(el => {\n        return Number(el.rating) === Number(e.target.value);\n      });\n      setShowData([...filteredData]);\n    } else {\n      setShowData(hotelData);\n    }\n  };\n  const filterPolicy = e => {\n    if (e.target.checked) {\n      if (e.target.value === \"cancellation\") {\n        const filteredAbove1500 = showData.filter(el => {\n          return el.cancellation === \"Free\";\n        });\n        setShowData([...filteredAbove1500]);\n      }\n      if (e.target.value === \"breakFast\") {\n        const filteredAbove1500 = showData.filter(el => {\n          return el.breakFast === \"Included\";\n        });\n        setShowData([...filteredAbove1500]);\n      }\n    } else {\n      setShowData(hotelData);\n    }\n  };\n  const filterSearch = search => {\n    const filteredData = hotelData.filter(e => {\n      return e.name.toLowerCase().includes(search.toLowerCase());\n    });\n    setShowData(filteredData);\n  };\n  useEffect(() => {\n    if (hotelData.length > 0) {\n      setShowData(hotelData);\n    }\n    if (hotelData.length === 0) {\n      if (prefilledData !== undefined) {\n        dispatch(getHotels(prefilledData.query));\n      } else {\n        dispatch(getHotels());\n      }\n    }\n  }, [hotelData]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.searchPageContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.left,\n        children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n          filterSearch: filterSearch,\n          data: prefilledData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FilteringBox, {\n          filterPrice: filterPrice,\n          filterStar: filterStar,\n          filterPolicy: filterPolicy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.hotelListContainer,\n        children: showData.map((e, i) => {\n          return /*#__PURE__*/_jsxDEV(HotelDataComponent, {\n            url: e.url,\n            name: e.name,\n            city: e.city,\n            distance: e.distance,\n            bedSize: e.bedSize,\n            roomSize: e.roomSize,\n            cancelationPolicy: e.cancelationPolicy,\n            cancellation: e.cancellation,\n            reviews: e.reviews,\n            rating: e.rating,\n            breakFast: e.breakFast,\n            availability: e.availability,\n            availableRooms: e.availableRooms,\n            price: e.price,\n            discountedPrice: e.discountedPrice,\n            id: e.id,\n            view: e.view\n          }, e.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 28\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(SearchPage, \"ie6EHQJ4efeORm8KYg1VhLYoY+0=\", false, function () {\n  return [useDispatch, useSelector, useLocation];\n});\n_c = SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["useEffect","useState","HotelDataComponent","FilteringBox","SearchBox","styles","useDispatch","useSelector","getHotels","useLocation","SearchPage","dispatch","hotelData","state","hotelsData","hotels","showData","setShowData","price","setPrice","star","setStar","prefilledData","filterPrice","e","target","name","checked","Number","value","filteredAbove1500","filter","el","discountedPrice","filterStar","filteredData","rating","filterPolicy","cancellation","breakFast","filterSearch","search","toLowerCase","includes","length","undefined","query","searchPageContainer","left","hotelListContainer","map","i","url","city","distance","bedSize","roomSize","cancelationPolicy","reviews","availability","availableRooms","id","view"],"sources":["C:/Users/mohit/OneDrive/Desktop/Booking.com/scared-shade-6052/src/components/Stays/SearchPage/SearchPage.jsx"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport {HotelDataComponent} from \"./HotelDataComponent\";\r\nimport {FilteringBox} from \"./FilteringBox\";\r\nimport {SearchBox} from \"./SearchBox\";\r\nimport styles from \"./SearchBox.module.css\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getHotels} from \"../../../actions/hotelAction\";\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\n\r\nexport const SearchPage = () => {\r\n    const dispatch = useDispatch();\r\n    const hotelData = useSelector(state => state.hotelsData.hotels);\r\n    const [showData, setShowData] = useState(hotelData)\r\n    const [price, setPrice] = useState(false)\r\n    const [star, setStar] = useState(false)\r\n    const prefilledData = useLocation().state;\r\n    const filterPrice = (e) => {\r\n        if (e.target.name === \"price\" && e.target.checked) {\r\n            if (Number(e.target.value) === 1500) {\r\n                const filteredAbove1500 = hotelData.filter((el) => {\r\n                    return (Number(el.discountedPrice) > 1500)\r\n                })\r\n                setShowData([...filteredAbove1500])\r\n            } else if (Number(e.target.value) === 1000) {\r\n                const filteredAbove1500 = hotelData.filter((el) => {\r\n                    return ((Number(el.discountedPrice) >= 1000) && (Number(el.discountedPrice) < 1500));\r\n                })\r\n                setShowData([...filteredAbove1500])\r\n            } else if (Number(e.target.value) === 0) {\r\n                const filteredAbove1500 = hotelData.filter((el) => {\r\n                    return (Number(el.discountedPrice) <= 1000)\r\n                })\r\n                setShowData([...filteredAbove1500])\r\n            }\r\n            setPrice(!price)\r\n        } else {\r\n            setShowData(hotelData)\r\n        }\r\n    }\r\n\r\n    const filterStar = (e) => {\r\n        if (e.target.checked) {\r\n            const filteredData = showData.filter((el) => {\r\n                return (Number(el.rating) === Number(e.target.value))\r\n            });\r\n            setShowData([...filteredData])\r\n        } else {\r\n            setShowData(hotelData)\r\n        }\r\n    }\r\n\r\n    const filterPolicy = (e) => {\r\n        if (e.target.checked) {\r\n            if (e.target.value === \"cancellation\") {\r\n                const filteredAbove1500 = showData.filter((el) => {\r\n                    return (el.cancellation === \"Free\")\r\n                })\r\n                setShowData([...filteredAbove1500])\r\n            }\r\n            if (e.target.value === \"breakFast\") {\r\n                const filteredAbove1500 = showData.filter((el) => {\r\n                    return (el.breakFast === \"Included\")\r\n                })\r\n                setShowData([...filteredAbove1500])\r\n            }\r\n        } else {\r\n            setShowData(hotelData)\r\n        }\r\n    }\r\n\r\n    const filterSearch = (search) => {\r\n        const filteredData = hotelData.filter((e) => {\r\n            return (e.name.toLowerCase().includes(search.toLowerCase()))\r\n        })\r\n        setShowData(filteredData)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (hotelData.length > 0) {\r\n            setShowData(hotelData)\r\n        }\r\n        if (hotelData.length === 0) {\r\n            if(prefilledData !== undefined){\r\n                dispatch(getHotels(prefilledData.query));\r\n            }\r\n            else{\r\n                dispatch(getHotels());\r\n            }\r\n        }\r\n    }, [hotelData])\r\n\r\n    return <>\r\n        <div className={styles.searchPageContainer}>\r\n            <div className={styles.left}>\r\n                <SearchBox filterSearch={filterSearch} data={prefilledData}/>\r\n                <FilteringBox filterPrice={filterPrice} filterStar={filterStar} filterPolicy={filterPolicy}/>\r\n            </div>\r\n\r\n            <div className={styles.hotelListContainer}>\r\n                {showData.map((e, i) => {\r\n                    return <HotelDataComponent url={e.url}\r\n                                               key={e.id}\r\n                                               name={e.name} city={e.city} distance={e.distance}\r\n                                               bedSize={e.bedSize} roomSize={e.roomSize}\r\n                                               cancelationPolicy={e.cancelationPolicy}\r\n                                               cancellation={e.cancellation}\r\n                                               reviews={e.reviews}\r\n                                               rating={e.rating}\r\n                                               breakFast={e.breakFast}\r\n                                               availability={e.availability}\r\n                                               availableRooms={e.availableRooms}\r\n                                               price={e.price}\r\n                                               discountedPrice={e.discountedPrice}\r\n                                               id={e.id}\r\n                                               view={e.view}\r\n                    />\r\n                })}\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </>\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}